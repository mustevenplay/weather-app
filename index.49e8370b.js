const[e,r]=document.querySelectorAll(".coordinate-directive"),t=document.querySelector("#city"),n=document.querySelector("#city-info"),a=document.querySelector("#temperature"),o=document.querySelector("#forecast");function i(){const i=e.value,s=r.value;fetch(`https://api.open-meteo.com/v1/forecast?latitude=${i}&longitude=${s}&current_weather=true`).then((e=>e.json())).then((async e=>{const r=e.current_weather,[c,u]=await async function(e,r){try{const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${r}&zoom=10`),n=await t.json();if(null==n.display_name)return[void 0,void 0];let a,o=[];return n.display_name.split(", ").forEach(((e,r)=>{0===r?a=e:o.push(e)})),[a,o.join("\n")]}catch(e){return console.error(e),[void 0,void 0]}}(i,s);null==c?(t.innerText="Unknown",n.innerText="Unknown"):(t.innerText=c,n.innerText=u),a.innerText=`${r.temperature}ÂºC`,o.innerText=`${function(e){switch(e){case 0:return"Clear sky";case 1:return"Mainly clear";case 2:return"Partly cloudy";case 3:return"Overcast";case 45:return"Fog";case 48:return"Depositing rime fog";case 51:return"Light drizzle";case 53:return"Moderate drizzle";case 55:return"Dense intensity drizzle";case 56:return"Light freezing drizzle";case 57:return"Dense intensity freezing drizzle";case 61:return"Slight rain";case 63:return"Moderate rain";case 65:return"Heavy intensity rain";case 66:return"Light freezing rain";case 67:return"Heavy intensity freezing rain";case 71:return"Slight snow fall";case 73:return"Moderate snow fall";case 75:return"Heavy intensity snow fall";case 77:return"Snow grains";case 80:return"Slight rain showers";case 81:return"Moderate rain showers";case 82:return"Violent rain showers";case 85:return"Slight snow showers";case 86:return"Heavy snow showers";case 95:return"Slight or Moderate thunderstorm";case 96:return"Thunderstorm with slight hail";case 99:return"Thunderstorm with heavy hail";default:return"Unknown weather code"}}(r.weathercode)}`;const l=0===(h=r.weathercode)?["gold","lightcyan"]:h>=1&&h<=3?["khaki","lightcyan"]:45==h||48==h?["lightgray","lightblue"]:51==h||53==h||h>=55&&h<=57||61==h||63==h||h>=65&&h<=67||71==h||73==h||h>=75&&h<=77||85==h||86==h?["lightgray","snow"]:95==h||96==h||99==h?["gray","lightgray"]:void 0;var h;document.querySelector("body").style.background=`linear-gradient(to bottom, ${l[0]}, ${l[1]})`})).catch(console.error)}document.querySelector("#coordinate-submit").addEventListener("click",i),i();
//# sourceMappingURL=index.49e8370b.js.map
